:root{
  --bg:#0b0f14;
  --glass:rgba(255,255,255,.06);
  --border:rgba(255,255,255,.10);
  --text:#eaf2ff;
  --muted:#a7b3c7;
  --accent:#79c0ff;

  --paleo:#7ad0ff;     /* ice blue */
  --ancient:#ffc15a;   /* warm amber */
  --modern:#ff6ec7;    /* magenta */
}

*{box-sizing:border-box}
html,body,#app{height:100%; margin:0; background:radial-gradient(1200px 700px at 50% 40%,#101621 0%,#0b0f14 60%, #06080b 100%); color:var(--text); font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif}

#topbar{
  position:fixed; left:16px; right:420px; top:16px;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 14px; border:1px solid var(--border); border-radius:12px; backdrop-filter: blur(12px); background:var(--glass);
  z-index:20;
}
.glass{box-shadow:0 10px 30px rgba(0,0,0,.30)}
.brand h1{font-size:16px; letter-spacing:.18em; margin:0; color:#fff; font-weight:700}
.sub{font-size:12px; color:var(--muted); margin-top:2px}

.controls{display:flex; align-items:center; gap:12px}
.controls button{
  width:40px; height:36px; border-radius:8px; border:1px solid var(--border);
  background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02));
  color:#fff; font-size:16px; cursor:pointer;
}
.controls button:hover{border-color:rgba(255,255,255,.25)}
.controls button:focus-visible{outline:2px solid var(--accent); outline-offset:2px}
.controls .speed select{
  background:transparent; color:#fff; border:1px solid var(--border); border-radius:8px; padding:6px 8px; outline:none;
}
.controls .year{font-variant-numeric: tabular-nums; color:#dce6ff}
.controls .secondary.small{height:32px; padding:0 10px; width:auto; font-size:12px}

#globeContainer{position:absolute; inset:0; }

#rightPanel{
  position:fixed; top:16px; right:16px; bottom:16px; width:400px;
  display:flex; flex-direction:column; gap:12px;
  padding:12px; border:1px solid var(--border); border-radius:14px; backdrop-filter: blur(14px); background:var(--glass); z-index:30;
}

.panel-section{border:1px solid var(--border); border-radius:12px; padding:12px}
.panel-title{font-size:12px; letter-spacing:.12em; color:#b7c6df; text-transform:uppercase; margin-bottom:8px}
.divider{height:1px; background:var(--border); margin:8px 0}

.toggle{display:flex; gap:8px; align-items:center; margin:8px 0; color:#dbe7ff}
.toggle input{accent-color:var(--accent); width:18px; height:18px}

#timeSlider{width:100%}
.panel-section input[type="range"]{
  -webkit-appearance:none; appearance:none; height:4px; border-radius:999px;
  background:linear-gradient(90deg, rgba(121,192,255,.9), rgba(255,255,255,.2));
  outline:none;
}
.panel-section input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none; width:14px; height:14px; border-radius:50%;
  background:#fff; border:2px solid #5aa9e6; box-shadow:0 2px 6px rgba(0,0,0,.25);
}
.panel-section input[type="range"]::-moz-range-thumb{
  width:14px; height:14px; border-radius:50%; background:#fff; border:2px solid #5aa9e6;
}
.ticks{display:flex; justify-content:space-between; margin-top:4px; font-size:11px; color:var(--muted)}

.list{max-height:240px; overflow:auto; display:flex; flex-direction:column; gap:8px}
.card{
  border:1px solid var(--border); border-radius:10px; padding:10px; display:grid; grid-template-columns: 1fr auto; gap:8px;
  background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
}
.card:hover{border-color:rgba(255,255,255,.28); cursor:pointer}
.card .title{font-weight:700; font-size:13px}
.card .era{font-size:11px; color:var(--muted)}
.card .desc{grid-column:1/-1; font-size:12px; color:#dbe7ff}
.card .meta{font-size:11px; color:#b7c6df}
.card a{color:#a9d3ff; text-decoration:none}
.card a:hover{text-decoration:underline}

.legend{display:grid; grid-template-columns:1fr 1fr; gap:8px; font-size:12px}
.chip{display:inline-block; width:14px; height:6px; border-radius:999px; margin-right:6px; vertical-align:middle; box-shadow:0 0 0 1px rgba(255,255,255,.15) inset}
.chip-paleo{background:var(--paleo)}
.chip-ancient{background:var(--ancient)}
.chip-modern{background:var(--modern)}
.legend-note{grid-column:1/-1; font-size:11px; color:var(--muted)}

.sources{max-height:160px; overflow:auto; font-size:12px; display:flex; flex-direction:column; gap:6px}
.sources a{color:#a9d3ff; text-decoration:none}
.sources a:hover{text-decoration:underline}

.secondary{
  width:100%; border:1px solid var(--border); background:transparent; color:#fff; border-radius:8px; padding:10px; cursor:pointer;
}
.secondary:hover{border-color:rgba(255,255,255,.3)}
.secondary:focus-visible{outline:2px solid var(--accent); outline-offset:2px}
.controls .secondary{width:auto}

/* Modal */
.modal{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:50}
.modal.hidden{display:none}
.modal-backdrop{position:absolute; inset:0; background:rgba(0,0,0,.55); backdrop-filter: blur(2px)}
.modal-content{position:relative; width:min(720px, 92vw); max-height:80vh; overflow:auto; border:1px solid var(--border); border-radius:12px; padding:12px}
.modal-header{display:flex; align-items:center; justify-content:space-between; margin-bottom:8px}
.modal-title{font-weight:700; color:#fff}
.icon-btn{background:transparent; border:1px solid var(--border); color:#fff; border-radius:8px; width:32px; height:32px; cursor:pointer}
.icon-btn:hover{border-color:rgba(255,255,255,.3)}

/* Loading overlay */
.loading{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:10px; z-index:60; background:radial-gradient(800px 400px at 50% 40%,rgba(16,22,33,.7),rgba(11,15,20,.9))}
.spinner{width:28px; height:28px; border-radius:50%; border:3px solid rgba(255,255,255,.25); border-top-color:#fff; animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

.footer{margin-top:auto; text-align:center; font-size:11px; color:var(--muted)}

@media (max-width:1100px){
  #topbar{right:16px}
  #rightPanel{position:static; width:auto; margin:16px}
}
